b0     ::  in - {}                       //   out - {a->(1, 1), b->(2, 2)}
left   ::  in - {a->(1, 1), b->(2, 2)}   //   out - {a->(3, 3), b->(2, 2)}
right  ::  in - {a->(1, 1), b->(2, 2)}   //   out - {a->(1, 1), b->(4, 4)}
end    ::  in - {a->(1, 3), b->(2, 4)}   //   out - {a->(1, 3), b->(2, 4)}
